(function(){function trimStr(str){if(str){return str.replace(/^\s*|\s*$/,"");}
return undefined;}
var componentsManager={getElementInfoById:function(id){var objectElements=Array.prototype.slice.call(document.querySelectorAll("object[type=application\\/view]"));var result={};if(objectElements){for(var element in objectElements){var childNodes=Array.prototype.slice.call(objectElements[element].childNodes);if(childNodes){for(var index in childNodes){var childNode=childNodes[index];var childNodeTag=childNode.tagName;if(childNodeTag&&/param/i.test(childNodeTag)){var name=trimStr(childNode.getAttribute("name"));var value=trimStr(childNode.getAttribute("value"));if(name&&value){result[name]=value;}}}};if(result.id&&result.id==id){result["element"]=objectElements[element];break;};}};return result;},render:function(id){var elementInfo=this.getElementInfoById(id);if(elementInfo&&elementInfo.element){var element=elementInfo.element;var type=elementInfo["type"];var viewPortTag=document.querySelector("meta[name=viewport]");var viewPortContent;if(viewPortTag){viewPortContent=viewPortTag.getAttribute("content");};var scaleValue="0.33";if(window.devicePixelRatio&&window.devicePixelRatio>2){scaleValue="0.4235033";};if(viewPortContent){var contentList=viewPortContent.split(",");for(var item in contentList){var scaleConfig=contentList[item].split("=");if(scaleConfig&&scaleConfig.length>1){var scaleName=scaleConfig[0];if(/initial-scale/.test(scaleName)){scaleValue=scaleConfig[1];break;};};}};var renderObj={id:id,scale:scaleValue,type:type,frame:{},data:{}};var boundRect=element.getBoundingClientRect();renderObj.frame.width=boundRect.width;renderObj.frame.height=boundRect.height;var scrollLeft=0;if(document.documentElement&&document.documentElement.scrollLeft){scrollLeft=document.documentElement.scrollLeft;}else if(document.body){scrollLeft=document.body.scrollLeft;}
var x=element.getBoundingClientRect().left+scrollLeft;renderObj.frame.x=x;var scrollTop=0;if(document.documentElement&&document.documentElement.scrollTop){scrollTop=document.documentElement.scrollTop;}else if(document.body){scrollTop=document.body.scrollTop;}
var y=element.getBoundingClientRect().top+scrollTop;renderObj.frame.y=y;var customData=elementInfo["data"];if(customData){try{var customDic=JSON.parse(customData);for(var key in customDic){renderObj.data[key]=customDic[key];}}catch(ex){}};try{for(var key in elementInfo){if(!/^(?:data|id|type|element)$/.test(key)){renderObj.data[key]=elementInfo[key];};}}catch(ex){}
return JSON.stringify(renderObj);}}};window.componentsManager=componentsManager;})();